# this

## this 指针的用处

- 一个对象的this指针并不是对象本身的一部分，不会影响sizeof(对象)的结果
- this作用域是在类内部，当在类的非静态成员函数中访问类的非静态成员的时候，编译器会自动将对象本身的地址作为一个隐含参数传递给函数。也就是说，即使你没有写上this指针，编译器在编译的时候也是加上this的，它作为非静态成员函数的隐含形参，对各成员的访问均通过this进行。

## this 指针的使用

- 在类的非静态成员函数中返回类对象本身的时候，直接使用 return *this
- 当参数与成员变量名相同时，如this->n = n （不能写成n = n)
- this 会被编译器解析成A *const

总结：this在成员函数的开始执行前构造，在成员的执行结束后清除。上述的get_age函数会被解析成get_age(const A * const this),add_age函数会被解析成add_age(A* const this,int a)。在C++中类和结构是只有一个区别的：类的成员默认是private，而结构是public。this是类的指针，如果换成结构，那this就是结构的指针了。
